<style>
    fieldset {
        margin: 20px;
        border-radius: 5px;
        border: 1px solid #3465a4;
        padding: 20px;
    }

    legend {
        font-size: 18px;
        font-weight: normal;
        color: #3465a4;
    }

    div.field {
        font-weight: normal;
        display: inline-block;
        margin: 10px;
        color: #000;
    }

    select {
        min-width: 100%;
    }

    /*input {
        min-width: 100%;
    }*/
</style>

<%= form_for(@child) do |f| %>

    <fieldset>
      <legend><font size='5' style='border: 2px;'>Details of Child</font></legend>

      <%= f.hidden_field :_rev rescue "" %>
      
      <input id="child_duplicate" name="child[duplicate]" type="hidden" />
      
      <input id="child_relationship" name="child[relationship]" value="adopted" type="hidden" />
      
      <input id="relationship" name="relationship]" value="adopted" type="hidden" />
      
      <% if flash[:error] == "Similar" %>
      
      	<input id="child_potentialduplicate" name="child[potentialduplicate]" value="potentialduplicate" type="hidden"/>
      
      <% end %>
      
      <input id="child_original_surname" type="hidden"/>

      <%= f.hidden_field :birth_district, :value => district.name %>

      <div class="field">
        <label for="child_last_name">Surname</label>
        <br>
        <%= (f.text_field :last_name,
        :class => "input_cell",
        :ajaxURL => "/get_last_names",
        :tt_onUnload => 'setTimeout("checkChanges(' + 'child_last_name' + ')", 1000)') rescue "" %>
      </div>
     
      <div class="field">
        <%= f.label :first_name %>
        <br>
        <%= (f.text_field :first_name,
        :class => "input_cell",
        :ajaxURL => "/get_first_names",
        :tt_onUnload => 'setTimeout("checkChanges(' + 'child_first_name' + ')", 1000)') rescue "" %>
      </div>
      <div class="field">
        <label for="child_middle_name">Other Names</label>
        <br>
        <%= (f.text_field :middle_name, :class => "input_cell", :ajaxURL => "/get_first_names", :optional => :true) rescue "" %>
      </div>

    </fieldset>

    <fieldset>
      <legend><font size='5' style='border: 2px;'>Details of Child Continued..</font></legend>

      <div class="field">
        <label for="child_birthdate">Date of Birth</label>
        <br>
        <%= (f.text_field :birthdate,
                          :class => "input_cell",
                          :fieldtype => "date",
                          :absolute_min => Time.now.advance(:years => -100).strftime('%Y/%m/%d'),
                          :min => Time.now.advance(:years => -16).strftime('%Y/%m/%d'),
                          :absolute_max => Date.today.strftime('%Y/%m/%d'),
                          :tt_onUnload => "recalculateDateValidations('c_dob')") rescue "" %>

        <%= f.hidden_field :birthdate_estimated rescue "" %>

      </div>
      <div class="field">
        <label for="child_gender">Sex</label><br>
        <select id="child_gender" name="child[gender]" class="input_cell">
          <option></option>
          <option <%= ((@child[:gender] rescue nil) == "Female" ? "selected" : "") %> >Female</option>
          <option <%= ((@child[:gender] rescue nil) == "Male" ? "selected" : "") %> >Male</option>
        </select>	
      </div>
      
      <div class="field">
        <label for="child_adoption_court_order">Adoption Court Order Attached?</label><br>
        <select id="child_adoption_court_order" name="child[adoption_court_order]" class="input_cell">
          <option></option>
          <option  <%= ((@child[adoption_court_order] rescue nil) == "Yes" ? "selected" : "") %> >Yes</option>
          <option  <%= ((@child[adoption_court_order] rescue nil) == "No" ? "selected" : "") %> >No</option>
        </select>
      </div>
      
      <div class="field">
        <label for="biological_parents">Biological Parents</label>
        <br>
        <select id="biological_parents"
								name="biological_parents"
								class="input_cell" />
          	<option></option>
          	<option value="None">None</option>
          	<option value="Mother">Mother</option>
          	<option value="Father">Father</option>
          	<option value="Both">Both</option>
        </select>
      </div>
      
      <div class="field">
        <label for="foster_parents">Adoptive Parents</label>
        <br>
        <select id="foster_parents"
								name="foster_parents"
								class="input_cell" />
          	<option></option>
          	<option value="Mother">Mother</option>
          	<option value="Father">Father</option>
          	<option value="Both">Both</option>
        </select>
      </div>
      
      <div class="field">
        <label for="birth_place_details_available">Birth Details Available?</label>
        <br>
        <select id="birth_place_details_available"
		            name="birth_place_details_available"
		            class="input_cell" />
          	<option></option>
          	<option value="Yes">Yes</option>
          	<option value="No">No</option>
        </select>
      </div>


    </fieldset>

    <fieldset condition="__$('birth_place_details_available').value == 'Yes';">
      <legend><font size='5' style='border: 2px;'>Details of Child Continued..</font></legend>

      <div class="field">
        <label for="child_place_of_birth">Place of birth</label><br>
        <select id="child_place_of_birth" name="child[place_of_birth]" class="input_cell" optional="true" >
          <option></option>
          <option <%= ((@child[:place_of_birth] rescue nil) == "Home" ? "selected" : "") %> >Home</option>
          <option <%= ((@child[:place_of_birth] rescue nil) == "Hospital" ? "selected" : "") %> >Hospital</option>
          <option <%= ((@child[:place_of_birth] rescue nil) == "Other" ? "selected" : "") %> >Other</option>
        </select>
      </div>
        
      
      <div class="field">
        <label for="child_bd_holder">Birth District</label><br>

        <input id="child_bd_holder"
        			 name="child[bd][holder]"
        			 type="text"
        			 condition="beforeLiveDate()"
        			 optional="true"
        			 value="<%= @child[:bd] rescue nil %>"
        			 ajaxURL = "/search_by_district"	
               tt_onUnload = "navigablefieldsets[parseInt(__$('textForchild_birth_ta').getAttribute('section'))][parseInt(__$('textForchild_birth_ta').getAttribute('pos'))].setAttribute('ajaxURL', '/search_by_ta?district=' + __$('child_bd_holder').value);navigablefieldsets[parseInt(__$('textForchild_hospital_of_birth').getAttribute('section'))][parseInt(__$('textForchild_hospital_of_birth').getAttribute('pos'))].setAttribute('ajaxURL', '/search_by_hospital?district=' + __$('child_bd_holder').value);setDistrict('district');"
        			 class="input_cell"
                />

      </div>

      <div class="field">
        <label for="child_hospital_of_birth">Name of Hospital</label>
        <br>
        <%= (f.text_field :hospital_of_birth,
                          :class => "input_cell",
                          :condition => "__$('child_place_of_birth').value.trim().toLowerCase() == 'hospital' ;",
                          :tt_onUnload => "setDistrict('district');",
                          :optional => true,
                          :ajaxURL => "/search_by_hospital") rescue "" %>
      </div>

      <div class="field">
        <label for="child_birth_ta">T/A</label>
        <br>
        <%= (f.text_field :birth_ta,
                          :class => "input_cell",
                          :condition => "__$('child_place_of_birth').value.trim().toLowerCase() == 'home'",
                          :ajaxURL => "/search_by_district",
:tt_onload => "navigablefieldsets[parseInt(__$('textForchild_birth_ta').getAttribute('section'))][parseInt(__$('textForchild_birth_ta').getAttribute('pos'))].setAttribute('ajaxURL', '/search_by_ta?district=' + __$('child_birth_district').value);",
                          :optional => true,
                          :tt_onUnload => "navigablefieldsets[parseInt(__$('textForchild_birth_village').getAttribute('section'))][parseInt(__$('textForchild_birth_village').getAttribute('pos'))].setAttribute('ajaxURL', '/search_by_village?district=' + __$('child_birth_district').value + '&ta=' + __$('textForchild_birth_ta').value);") rescue "" %>
      </div>
      <div class="field">
        <label for="child_birth_village">Village</label>
        <br>
        <%= (f.text_field :birth_village, 
        									:class => "input_cell", 
        									:condition => "__$('child_place_of_birth').value.trim().toLowerCase() == 'home'", 
        									:optional => true,
        									:ajaxURL => "/search_by_village") rescue "" %>
      </div>
      <div class="field">
        <label for="child_other_birth_place_details">Give Details</label>
        <br>
        <%= (f.text_field :other_birth_place_details, 
        									:class => "input_cell", 
        									:optional => true,
        									:condition => "__$('child_place_of_birth').value.trim().toLowerCase() == 'other'") rescue "" %>
      </div>

    </fieldset>

    <fieldset>
      <legend><font size='5' style='border: 2px;'>Details of Child Continued..</font></legend>

      <div class="field">
        <label for="child_birth_weight">Birth weight (in Kilogrammes)</label>
        <br>
        <%= (f.text_field :birth_weight,
        									:placeholder => "0.000",
        									:class => "input_cell",
        									:fieldtype => "decimal",
                          :regex => '^\d+\.\d{3}$',
                          :regex_message => "Expecting baby weight to have 3 decimal places.\nAppend zero(s) for you?",
                          :absolute_min => 0.7 ,
                          :absolute_max => 6,
                          :max => 4,
                          :min => 2.5,
                          :optional => true) %>
      </div>
      <div class="field">
        <%= f.label :type_of_birth %>
        <br>
        <select id="child_type_of_birth" name="child[type_of_birth]" class="input_cell" optional="true">
          <option></option>
          <option <%= ((@child[:type_of_birth] rescue nil) == "Single" ? "selected" : "") %> >Single</option>

          <option <%= ((@child[:type_of_birth] rescue nil) == "Twin" ? "selected" : "") %> >Twin</option>
          <option <%= ((@child[:type_of_birth] rescue nil) == "Second Twin" ? "selected" : "") %> >Second Twin</option>

          <option <%= ((@child[:type_of_birth] rescue nil) == "Triplet" ? "selected" : "") %> >Triplet</option>
          <option <%= ((@child[:type_of_birth] rescue nil) == "Second Triplet" ? "selected" : "") %> >Second Triplet</option>
          <option <%= ((@child[:type_of_birth] rescue nil) == "Third Triplet" ? "selected" : "") %> >Third Triplet</option>

          <option <%= ((@child[:type_of_birth] rescue nil) == "Other" ? "selected" : "") %> >Other</option>
        </select>
      </div>
      <div class="field">
        <label for="child_other_type_of_birth">Specify Other Type of Birth</label>
        <br>
        <%= (f.text_field :other_type_of_birth, :class => "input_cell", :condition => "__$('child_type_of_birth').value.trim() == 'Other'",:optional=>true) rescue ""  %>
      </div>

      <div class="field">
        <label for="child_parents_married_to_each_other">Are the biological parents married to each other?</label>
        <br>
        <select id="child_parents_married_to_each_other" 
        				name="child[parents_married_to_each_other]" 
        				class="input_cell" 
        				condition = "__$('biological_parents').value.trim().toLowerCase() == 'both'" >
          <option></option>
          <option <%= ((@child[:parents_married_to_each_other] rescue nil) == "Yes" ? "selected" : "") %> >Yes</option>
          <option <%= ((@child[:parents_married_to_each_other] rescue nil) == "No" ? "selected" : "") %> >No</option>
        </select>
      </div>
      <div class="field">
        <label for="child_date_of_marriage">If yes, date of marriage</label>
        <br>
        <%= (f.text_field :date_of_marriage,
                          :class => "input_cell",
			  									:condition => "__$('child_parents_married_to_each_other').value.trim() == 'Yes' && __$('biological_parents').value.trim().toLowerCase() == 'both'",
			  									:fieldtype => "date",
             							:absolute_max => Date.today.strftime('%Y/%m/%d'),
			 									 :optional => true ) %>
        <%#grill=  :tt_onLoad => "validateDate(__$('child_birthdate'), __$('child_date_of_marriage'), 45, 3, 60, 0)") %>
      </div>


    </fieldset>

    <fieldset condition="__$('child_parents_married_to_each_other').value.trim() == 'No'">
      <legend><font size='5' style='border: 2px;'>Acknowledgment of Paternity: Child born out of wedlock</font></legend>

      <div class="field">
        <label for="child_court_order_attached">Court order attached?</label><br>
        <select id="child_court_order_attached" name="child[court_order_attached]" class="input_cell">
          <option></option>
          <option  <%= ((@child[court_order_attached] rescue nil) == "Yes" ? "selected" : "") %> >Yes</option>
          <option  <%= ((@child[court_order_attached] rescue nil) == "No" ? "selected" : "") %> >No</option>
        </select>
      </div>

      <div class="field">
        <label for="child_parents_signed">Parents signed?</label>
        <br>
        <select id="child_parents_signed" name="child[parents_signed]" class="input_cell" condition="__$('child_court_order_attached').value.trim() == 'No'">
          <option></option>
          <option <%= ((@child[parents_signed] rescue nil) == "Yes" ? "selected" : "") %> >Yes</option>
          <option <%= ((@child[parents_signed] rescue nil) == "No" ? "selected" : "") %> >No</option>
        </select>

      </div>
      
    </fieldset>

    <!-- Mother -->

    <fieldset condition="__$('biological_parents').value.trim().toLowerCase() == 'both' || __$('biological_parents').value.trim().toLowerCase() == 'mother'">
      <legend><font size='5' style='border: 2px;'>Details of Biological Mother</font></legend>

      <div class="field">
        <label for="child_mother_last_name">Maiden Surname</label><br>

        <input id="child_mother_last_name"
        			 name="child[mother][last_name]"
        			 type="text"
        			 value="<%= @child[:mother][:last_name] rescue nil %>"
        			 ajaxURL = "/get_last_names"
        			 optional = "true"
        			 class="input_cell"
               tt_onUnload = "appendValue('child_mother_first_name');" />

      </div>

      <div class="field">
        <label for="child_mother_first_name">First Name</label><br>
        <input id="child_mother_first_name" name="child[mother][first_name]"
        type="text"
        optional = "true"
        value="<%= @child[:mother][:first_name] rescue nil %>"
        ajaxURL = "/get_first_names"
        class="input_cell"
        tt_onUnload = "appendValue('child_mother_first_name')" />
      </div>

      <div class="field">
        <label for="child_mother_middle_name">Other Name</label><br>
        <input id="child_mother_middle_name"
               name="child[mother][middle_name]"
               type="text"
               value="<%= @child[:mother][:middle_name] rescue nil %>"
               class="input_cell"
               ajaxURL = "/get_first_names"
               optional="true"/>
      </div>

      <div class="field">
        <label for="child_mother_id_number">ID Number</label><br>
        <input id="child_mother_id_number"
               name="child[mother][id_number]"
               type="text"
               value="<%= @child[:mother][:id_number] rescue nil %>"
               class="input_cell"
               condition="false"
               optional="true" />

      </div>

    </fieldset>
    
    <!-- Address of mother -->
    <fieldset condition="__$('biological_parents').value.trim().toLowerCase() == 'both' || __$('biological_parents').value.trim().toLowerCase() == 'mother'" >
      <legend><font size='5' style='border: 2px;'>Details of Biological Mother continued</font></legend>

      <div class="field">
        <label for="child_mother_citizenship">Nationality</label><br>
        <input id="child_mother_citizenship" 
        			 name="child[mother][citizenship]" 
        			 type="text" 
        			 value="<%= @child[:mother][:citizenship] rescue nil %>"
               class="input_cell" ajaxURL="/search_by_nationality" />
      </div>
      
       <div class="field">
        <label for="child_mother_local_residential_country">Country of Residence</label><br>
        <input id="child_mother_local_residential_country" 
               name="child[mother][residential_country]" 
               type="text"
               value="<%= @child[:mother][:residential_country] rescue nil %>"
               class="input_cell" 
               ajaxURL="/search_by_country" />
      </div>

    </fieldset>

    <fieldset condition="__$('child_mother_local_residential_country').value.trim() == 'Malawi' && (__$('biological_parents').value.trim().toLowerCase() == 'both' || __$('biological_parents').value.trim().toLowerCase() == 'mother')">
      <legend><font size='5' style='border: 2px;'>Details of Biological Mother continued: Physical residential address</font></legend>

     

      <div class="field">
        <label for="child_mother_current_district">District</label><br>
        <input id="child_mother_current_district" 
               name="child[mother][current_district]" 
               type="text" 
               value="<%= @child[:mother][:current_district] rescue nil %>"
               class="input_cell" ajaxURL="/search_by_district"
               condition="__$('child_mother_local_residential_country').value.trim() == 'Malawi'"
               tt_onLoad="clearRelated()"
               tt_onUnload="navigablefieldsets[parseInt(__$('textForchild_mother_current_ta').getAttribute('section'))][parseInt(__$('textForchild_mother_current_ta').getAttribute('pos'))].setAttribute('ajaxURL', '/search_by_ta?district=' + __$('textForchild_mother_current_district').value);" 
               optional="true"/>
      </div>

      <div class="field">
        <label for="child_mother_current_ta">T/A or Area of Residence</label><br>
        <input id="child_mother_current_ta" name="child[mother][current_ta]" type="text" value="<%= @child[:mother][:current_ta] rescue nil %>"
               class="input_cell" ajaxURL="/search_by_ta"
               condition="__$('child_mother_local_residential_country').value.trim() == 'Malawi'"
               tt_onLoad="clearRelated()"
               tt_onUnload="navigablefieldsets[parseInt(__$('textForchild_mother_current_village').getAttribute('section'))][parseInt(__$('textForchild_mother_current_village').getAttribute('pos'))].setAttribute('ajaxURL', '/search_by_village?district=' + __$('textForchild_mother_current_district').value + '&ta=' + __$('textForchild_mother_current_ta').value);"    optional="true"/>
      </div>

      <div class="field">
        <label for="child_mother_current_village">Village/Town</label><br>
        <input id="child_mother_current_village" name="child[mother][current_village]" type="text" value="<%= @child[:mother][:current_village] rescue nil %>"
               class="input_cell"
               condition="__$('child_mother_local_residential_country').value.trim() == 'Malawi'"
	      ajaxURL="/search_by_village" 
	      optional="true"/>
      </div>

    </fieldset>

     <fieldset condition="__$('child_mother_local_residential_country').value.trim() != 'Malawi' && (__$('biological_parents').value.trim().toLowerCase() == 'both' || __$('biological_parents').value.trim().toLowerCase() == 'mother')">

      <legend><font size='5' style='border: 2px;'>Details of Biological Mother continued: Physical residential address</font></legend>

      <div class="field">
        <label for="child_mother_foreigner_current_district">District/State</label><br>
        <input id="child_mother_foreigner_current_district" name="child[mother][foreigner_current_district]" type="text"
               value="<%= @child[:mother][:foreigner_current_district] rescue nil %>"
               class="input_cell"
               condition="__$('child_mother_local_residential_country').value.trim() != 'Malawi'"
               optional="true"/>
      </div>


      <div class="field">
        <label for="child_mother_foreigner_current_village">Village/Town</label><br>
        <input id="child_mother_foreigner_current_village"
               name="child[mother][foreigner_current_village]"
	       type="text"
	       value="<%= @child[:mother][:foreigner_current_village] rescue nil %>"
               class="input_cell"
               condition="__$('child_mother_local_residential_country').value.trim() != 'Malawi'"
               ajaxURL="/search_by_village" optional="true"/>
      </div>

      <div class="field">
        <label for="child_mother_foreigner_current_ta">Address</label><br>
        <input id="child_mother_foreigner_current_ta"
	       name="child[mother][foreigner_current_ta]"
	       type="text"
               value="<%= @child[:mother][:foreigner_current_ta] rescue nil %>"
               class="input_cell"
               condition="__$('child_mother_local_residential_country').value.trim() != 'Malawi'"
               optional="true"/>
      </div>


    </fieldset>


    <fieldset condition="__$('child_mother_citizenship').value.trim() == 'Malawian' && (__$('biological_parents').value.trim().toLowerCase() == 'both' || __$('biological_parents').value.trim().toLowerCase() == 'mother')">
      <legend><font size='5' style='border: 2px;'>Details of Biological Mother continued: Home address</font></legend>


      <div class="field">
        <label for="home_address_same_as_physical">Home address same as the physical address?</label>
        <br>
        <select id="home_address_same_as_physical"
		name="home_address_same_as_physical"
                condition="__$('child_mother_citizenship').value.trim() == 'Malawian'"
		class="input_cell"
         	tt_onUnload="if(__$('textForhome_address_same_as_physical').value.trim() == 'Yes'){loadMothersAddress();} else {unloadMothersAddress();}" />
          	<option></option>
          	<option value="Yes" >Yes</option>
          	<option value="No" >No</option>
        </select>
      </div>

      <div class="field">
        <label for="child_mother_home_district">District</label><br>
        <input id="child_mother_home_district"
	       name="child[mother][home_district]"
               condition="__$('child_mother_citizenship').value.trim() == 'Malawian'"
	       type="text"
	       value="<%= @child[:mother][:home_district] rescue nil %>"
               class="input_cell"
	       ajaxURL="/search_by_district"
         tt_onLoad="clearRelated()"
               tt_onUnload="navigablefieldsets[parseInt(__$('textForchild_mother_home_ta').getAttribute('section'))][parseInt(__$('textForchild_mother_home_ta').getAttribute('pos'))].setAttribute('ajaxURL', '/search_by_ta?district=' + __$('textForchild_mother_home_district').value);" 
               optional="true"/>
      </div>

      <div class="field">
        <label for="child_mother_home_ta">T/A</label><br>
        <input id="child_mother_home_ta"
	       name="child[mother][home_ta]"
	       condition="__$('child_mother_citizenship').value.trim() == 'Malawian'"
	       type="text"
	       value="<%= @child[:mother][:home_ta] rescue nil %>"
               class="input_cell" ajaxURL="/search_by_ta"
               tt_onLoad="clearRelated()"
               tt_onUnload="navigablefieldsets[parseInt(__$('textForchild_mother_home_village').getAttribute('section'))][parseInt(__$('textForchild_mother_home_village').getAttribute('pos'))].setAttribute('ajaxURL', '/search_by_village?district=' + __$('textForchild_mother_home_district').value + '&ta=' + __$('textForchild_mother_home_ta').value);" 
               optional="true"/>
      </div>

      <div class="field">
        <label for="child_mother_home_village">Village</label><br>
        <input id="child_mother_home_village"
               name="child[mother][home_village]"
               condition="__$('child_mother_citizenship').value.trim() == 'Malawian'"
               type="text"
               value="<%= @child[:mother][:home_village] rescue nil %>"
               class="input_cell"
               ajaxURL="/search_by_village"
               optional="true"/>
      </div>

    </fieldset>


     <fieldset condition="__$('child_mother_citizenship').value.trim() != 'Malawian' && (__$('biological_parents').value.trim().toLowerCase() == 'both' || __$('biological_parents').value.trim().toLowerCase() == 'mother')">

      <legend><font size='5' style='border: 2px;'>Details of  Biological Mother continued: Home address</font></legend>

       <div class="field">
        <label for="foreigner_home_address_same_as_physical">Home address same as the physical address?</label>
        <br>
        <select id="foreigner_home_address_same_as_physical"
		name="home_address_same_as_physical"
                condition="__$('child_mother_citizenship').value.trim() != 'Malawian'"
		class="input_cell"
         	tt_onUnload="if(__$('textForforeigner_home_address_same_as_physical').value.trim() == 'Yes'){loadForeignMothersAddress();} else {unloadForeignMothersAddress();}" />
          	<option></option>
          	<option value="Yes" >Yes</option>
          	<option value="No" >No</option>
        </select>
      </div>

       <div class="field">
        <label for="child_mother_home_country">Country</label><br>
        <input id="child_mother_home_country" name="child[mother][home_country]" type="text"
               value="<%= @child[:mother][:home_country] rescue nil %>"
               class="input_cell" ajaxURL="/search_by_country"
               condition="__$('child_mother_citizenship').value.trim() != 'Malawian'"
               optional="true"/>
      </div>

      <div class="field">
        <label for="child_mother_foreigner_home_district">District/State</label><br>
        <input id="child_mother_foreigner_home_district" name="child[mother][foreigner_home_district]" type="text"
               value="<%= @child[:mother][:foreigner_home_district] rescue nil %>"
               class="input_cell"
               condition="__$('child_mother_citizenship').value.trim() != 'Malawian'"
               optional="true"/>
      </div>


      <div class="field">
        <label for="child_mother_foreigner_home_village">Village/Town</label><br>
        <input id="child_mother_foreigner_home_village"
               name="child[mother][foreigner_home_village]"
	       type="text"
	       value="<%= @child[:mother][:foreigner_home_village] rescue nil %>"
               class="input_cell"
               condition="__$('child_mother_citizenship').value.trim() != 'Malawian'"
               ajaxURL="/search_by_village" optional="true"/>
      </div>

      <div class="field">
        <label for="child_mother_foreigner_home_ta">Address</label><br>
        <input id="child_mother_foreigner_home_ta"
	       name="child[mother][foreigner_home_ta]"
	       type="text"
               value="<%= @child[:mother][:foreigner_home_ta] rescue nil %>"
               class="input_cell"
               condition="__$('child_mother_citizenship').value.trim() != 'Malawian'"
               optional="true"/>
      </div>



    </fieldset>

    
    <!--Address of mother -->
    
    
    <fieldset condition="__$('child_parents_married_to_each_other').value.trim() == 'Yes' && (__$('biological_parents').value.trim().toLowerCase() == 'both' || __$('biological_parents').value.trim().toLowerCase() == 'father')">
      <legend><font size='5' style='border: 2px;'>Details of Biological Father</font></legend>

      <!-- Father -->

      <div class="field">
        <label for="child_father_last_name">Surname</label><br>
        <input id="child_father_last_name"
               name="child[father][last_name]"
               type="text"
               value="<%= @child[:father][:last_name] rescue nil %>"
               tt_onUnload = "appendValue('child_father_last_name')"
               optional = "true"
               ajaxURL = "/get_last_names"
               class="input_cell"
               condition="__$('child_parents_married_to_each_other').value.trim() == 'Yes'" />
      </div>

      <div class="field">
        <label for="child_father_first_name">First Name</label><br>
        <input id="child_father_first_name"
               name="child[father][first_name]"
               type="text"
               optional = "true"
               value="<%= @child[:father][:first_name] rescue nil %>"
               tt_onUnload = "appendValue('child_father_first_name')"
               ajaxURL = "/get_first_names"
               class="input_cell"
               condition="__$('child_parents_married_to_each_other').value.trim() == 'Yes'" />
      </div>

      <div class="field">
        <label for="child_father_middle_name">Other Name</label><br>
        <input id="child_father_middle_name"
               name="child[father][middle_name]"
               type="text"
               value="<%= @child[:father][:middle_name] rescue nil %>"
               ajaxURL = "/get_first_names"
               class="input_cell"
               condition="__$('child_parents_married_to_each_other').value.trim() == 'Yes'"
               optional="true"/>
      </div>

      <div class="field">
        <label for="child_father_id_number">ID Number</label><br>
        <input id="child_father_id_number"
               name="child[father][id_number]"
               type="text"
               value="<%= @child[:father][:id_number] rescue nil %>"
               class="input_cell"
               condition="false"
               optional="true"/>
      </div>
      
    </fieldset>
    
    
 <!-- Address of Biological father -->
 <fieldset condition="__$('child_parents_married_to_each_other').value.trim() == 'Yes' && (__$('biological_parents').value.trim().toLowerCase() == 'both' || __$('biological_parents').value.trim().toLowerCase() == 'father')" >
      <legend><font size='5' style='border: 2px;'>Details of Biological Father continued</font></legend>

      <div class="field">
        <label for="child_father_citizenship">Nationality</label><br>
        <input id="child_father_citizenship"
               name="child[father][citizenship]"
               type="text"
               value="<%= @child[:father][:citizenship] rescue nil %>"
               class="input_cell"
               condition="__$('child_parents_married_to_each_other').value.trim() == 'Yes'"
               ajaxURL="/search_by_nationality" />
      </div>
      
      
      <div class="field">
        <label for="child_father_residential_country">Country of Residence</label><br>
        <input id="child_father_residential_country" name="child[father][residential_country]" type="text"
               value="<%= @child[:father][:residential_country] rescue nil %>"
               class="input_cell" ajaxURL="/search_by_country"
         />
      </div>

    </fieldset>

    <fieldset condition="__$('child_father_residential_country').value.trim() == 'Malawi' && __$('child_parents_married_to_each_other').value.trim() == 'Yes' && (__$('biological_parents').value.trim().toLowerCase() == 'both' || __$('biological_parents').value.trim().toLowerCase() == 'father')">
      <legend><font size='5' style='border: 2px;'>Details of Biological Father continued: Physical Residential Address</font></legend>

      <div class="field">
        <label for="same_address_with_mother">Same as mother's?</label><br>
        <br>
        <select id="same_address_with_mother"
                name="same_address_with_mother"
                class="input_cell"
                tt_onUnload="nationality();">
          <option></option>
          <option value="Yes" >Yes</option>
          <option value="No" >No</option>

        </select>

      </div>

      <div class="field">
        <label for="child_father_current_district">District</label><br>
        <input id="child_father_current_district"
               name="child[father][current_district]"
               type="text"
               value="<%= @child[:father][:current_district] rescue nil %>"
               class="input_cell"
               condition="__$('child_father_residential_country').value.trim() == 'Malawi' && __$('child_parents_married_to_each_other').value.trim() == 'Yes'"
               ajaxURL="/search_by_district"
               tt_onUnload="navigablefieldsets[parseInt(__$('textForchild_father_current_ta').getAttribute('section'))][parseInt(__$('textForchild_father_current_ta').getAttribute('pos'))].setAttribute('ajaxURL', '/search_by_ta?district=' + __$('textForchild_father_current_district').value);" 
               optional="true"/>
      </div>

      <div class="field">
        <label for="child_father_current_ta">T/A or Area of Residence</label><br>
        <input id="child_father_current_ta"
               name="child[father][current_ta]"
               type="text"
               value="<%= @child[:father][:current_ta] rescue nil %>"
               class="input_cell"
               condition="__$('child_father_residential_country').value.trim() == 'Malawi' && __$('child_parents_married_to_each_other').value.trim() == 'Yes'"
               ajaxURL="/search_by_ta"
               tt_onUnload="navigablefieldsets[parseInt(__$('textForchild_father_current_village').getAttribute('section'))][parseInt(__$('textForchild_father_current_village').getAttribute('pos'))].setAttribute('ajaxURL', '/search_by_village?district=' + __$('textForchild_father_current_district').value + '&ta=' + __$('textForchild_father_current_ta').value);"
               optional="true" />
      </div>

      <div class="field">
        <label for="child_father_current_village">Village/Town</label><br>
        <input id="child_father_current_village"
               name="child[father][current_village]"
               type="text"
               value="<%= @child[:father][:current_village] rescue nil %>"
               class="input_cell"
               condition="__$('child_father_residential_country').value.trim() == 'Malawi' && __$('child_parents_married_to_each_other').value.trim() == 'Yes'"
               ajaxURL="/search_by_village" optional="true" />
      </div>

    </fieldset>
    
    
    <fieldset condition="__$('child_father_residential_country').value.trim() != 'Malawi' && __$('child_parents_married_to_each_other').value.trim() == 'Yes' && (__$('biological_parents').value.trim().toLowerCase() == 'both' || __$('biological_parents').value.trim().toLowerCase() == 'father')">

      <legend><font size='5' style='border: 2px;'>Details of Biological Father continued: Physical residential address</font></legend>

      <div class="field">
        <label for="child_father_foreigner_current_district">District/State</label><br>
        <input id="child_father_foreigner_current_district" name="child[father][foreigner_current_district]" type="text"
               value="<%= @child[:father][:foreigner_current_district] rescue nil %>"
               class="input_cell"
               condition="__$('child_father_residential_country').value.trim() != 'Malawi' && __$('child_parents_married_to_each_other').value.trim() == 'Yes'"
               optional="true"/>
      </div>


      <div class="field">
        <label for="child_father_foreigner_current_village">Village/Town</label><br>
        <input id="child_father_foreigner_current_village"
               name="child[father][foreigner_current_village]"
	       type="text"
	       value="<%= @child[:father][:foreigner_current_village] rescue nil %>"
               class="input_cell"
               condition="__$('child_father_residential_country').value.trim() != 'Malawi' && __$('child_parents_married_to_each_other').value.trim() == 'Yes'"
               optional="true"/>
      </div>

      <div class="field">
        <label for="child_father_foreigner_current_ta">Address</label><br>
        <input id="child_father_foreigner_current_ta"
	       name="child[father][foreigner_current_ta]"
	       type="text"
               value="<%= @child[:father][:foreigner_current_ta] rescue nil %>"
               class="input_cell"
               condition="__$('child_father_residential_country').value.trim() != 'Malawi' && __$('child_parents_married_to_each_other').value.trim() == 'Yes'"
               optional="true"/>
      </div>


    </fieldset>

    <fieldset condition="__$('child_parents_married_to_each_other').value.trim() == 'Yes' && (__$('biological_parents').value.trim().toLowerCase() == 'both' || __$('biological_parents').value.trim().toLowerCase() == 'father')">
      <legend><font size='5' style='border: 2px;'>Details of Biological Father continued: Home Address</font></legend>

      <div class="field">
        <label for="father_home_address_same_as_physical">Home address same as the physical address?</label>
        <br>
        <select id="father_home_address_same_as_physical"
        name="home_address_same_as_physical"
        condition="__$('child_parents_married_to_each_other').value.trim() == 'Yes'"
        class="input_cell"
        tt_onUnload="if(__$('textForfather_home_address_same_as_physical').value.trim() == 'Yes'){loadFathersAddress();} else {unloadFathersAddress();}" />
        <option></option>
        <option value="Yes" >Yes</option>
        <option value="No" >No</option>
      </select>
    </div>

      <div class="field">
        <label for="child_father_home_district">District</label><br>
        <input id="child_father_home_district"
               name="child[father][home_district]"
               type="text"
               value="<%= @child[:father][:home_district] rescue nil %>"
               class="input_cell"
               condition="__$('child_parents_married_to_each_other').value.trim() == 'Yes'"
               ajaxURL="/search_by_district"
               tt_onUnload="navigablefieldsets[parseInt(__$('textForchild_father_home_ta').getAttribute('section'))][parseInt(__$('textForchild_father_home_ta').getAttribute('pos'))].setAttribute('ajaxURL', '/search_by_ta?district=' + __$('textForchild_father_home_district').value);" optional="true" />
      </div>

      <div class="field">
        <label for="child_father_home_ta">T/A</label><br>
        <input id="child_father_home_ta"
               name="child[father][home_ta]"
               type="text"
               value="<%= @child[:father][:home_ta] rescue nil %>"
               class="input_cell"
               condition="__$('child_parents_married_to_each_other').value.trim() == 'Yes'"
               ajaxURL="/search_by_ta"
               tt_onUnload="navigablefieldsets[parseInt(__$('textForchild_father_home_village').getAttribute('section'))][parseInt(__$('textForchild_father_home_village').getAttribute('pos'))].setAttribute('ajaxURL', '/search_by_village?district=' + __$('textForchild_father_home_district').value + '&ta=' + __$('textForchild_father_home_ta').value);"
               optional="true"/>
      </div>

      <div class="field">
        <label for="child_father_home_village">Village</label><br>
        <input id="child_father_home_village"
               name="child[father][home_village]"
               type="text"
               value="<%= @child[:father][:home_village] rescue nil %>"
               class="input_cell"
               condition="__$('child_parents_married_to_each_other').value.trim() == 'Yes'"
               ajaxURL="/search_by_village" optional="true" />
      </div>

    </fieldset>

 
 <!-- Address of Biological father -->   
    
 <!-- Foster Parents-->

    <fieldset condition="__$('foster_parents').value.trim().toLowerCase() == 'mother' || __$('foster_parents').value.trim().toLowerCase() == 'both';">
      <legend><font size='5' style='border: 2px;'>Details of Adoptive Mother</font></legend>

      <div class="field">
        <label for="child_foster_mother_last_name">Maiden Surname</label><br>

        <input id="child_foster_mother_last_name"
        			 name="child[foster_mother][last_name]"
        			 type="text"
        			 value="<%= @child[:foster_mother][:last_name] rescue nil %>"
        			 ajaxURL = "/get_last_names"
        			 class="input_cell"
               tt_onUnload = "appendValue('child_foster_mother_first_name');" />

      </div>

      <div class="field">
        <label for="child_foster_mother_first_name">First Name</label><br>
        <input id="child_foster_mother_first_name" name="child[foster_mother][first_name]"
        type="text"
        value="<%= @child[:foster_mother][:first_name] rescue nil %>"
        ajaxURL = "/get_first_names"
        class="input_cell"
        tt_onUnload = "appendValue('child_foster_mother_first_name')" />
      </div>

      <div class="field">
        <label for="child_foster_mother_middle_name">Other Name</label><br>
        <input id="child_foster_mother_middle_name"
               name="child[foster_mother][middle_name]"
               type="text"
               value="<%= @child[:foster_mother][:middle_name] rescue nil %>"
               class="input_cell"
               ajaxURL = "/get_first_names"
               optional="true"/>
      </div>

      <div class="field">
        <label for="child_foster_mother_id_number">ID Number</label><br>
        <input id="child_foster_mother_id_number"
               name="child[foster_mother][id_number]"
               type="text"
               value="<%= @child[:foster_mother][:id_number] rescue nil %>"
               class="input_cell"
               condition="false"
               optional="true" />

      </div>

    </fieldset>

    <fieldset condition="__$('foster_parents').value.trim().toLowerCase() == 'mother' || __$('foster_parents').value.trim().toLowerCase() == 'both';">
      <legend><font size='5' style='border: 2px;'>Details of Adoptive Mother continued</font></legend>

      <div class="field">
        <label for="child_foster_mother_birthdate">Date of Birth</label>
        <br>

        <input id="child_foster_mother_birthdate" name="child[foster_mother][birthdate]" type="text"
                value="<%= @child[:foster_mother][:birthdate] rescue nil %>"
                class="input_cell"
                fieldtype="date"
                optional="true"
                tt_onLoad="validateDate(__$('child_birthdate'), __$('child_foster_mother_birthdate'), 45, 14, 60, 8)" />

        <input id="child_foster_mother_birthdate_estimated" name="child[mother][birthdate_estimated]" type="hidden"/>


      </div>

      <div class="field">
        <label for="child_foster_mother_citizenship">Nationality</label><br>
        <input id="child_foster_mother_citizenship" 
        			 name="child[foster_mother][citizenship]" 
        			 type="text" 
        			 value="<%= @child[:foster_mother][:citizenship] rescue nil %>"
               class="input_cell" 
               ajaxURL="/search_by_nationality" />
      </div>
      
       <div class="field">
        <label for="child_foster_mother_local_residential_country">Country of Residence</label><br>
        <input id="child_foster_mother_local_residential_country" name="child[foster_mother][residential_country]" type="text"
               value="<%= @child[:foster_mother][:residential_country] rescue nil %>"
               class="input_cell" 
               ajaxURL="/search_by_country" />
      </div>

    </fieldset>

    <fieldset condition="__$('child_foster_mother_local_residential_country').value.trim() == 'Malawi' && (__$('foster_parents').value.trim().toLowerCase() == 'mother' || __$('foster_parents').value.trim().toLowerCase() == 'both')" >
      <legend><font size='5' style='border: 2px;'>Details of Adoptive Mother continued: Physical residential address</font></legend>

     

      <div class="field">
        <label for="child_foster_mother_current_district">District</label><br>
        <input id="child_foster_mother_current_district" name="child[foster_mother][current_district]" type="text" value="<%= @child[:foster_mother][:current_district] rescue nil %>"
               class="input_cell" ajaxURL="/search_by_district"
               condition="__$('child_foster_mother_local_residential_country').value.trim() == 'Malawi'"
               tt_onLoad="clearRelated()"
               tt_onUnload="navigablefieldsets[parseInt(__$('textForchild_foster_mother_current_ta').getAttribute('section'))][parseInt(__$('textForchild_foster_mother_current_ta').getAttribute('pos'))].setAttribute('ajaxURL', '/search_by_ta?district=' + __$('textForchild_foster_mother_current_district').value);" optional="true"/>
      </div>

      <div class="field">
        <label for="child_foster_mother_current_ta">T/A or Area of Residence</label><br>
        <input id="child_foster_mother_current_ta" name="child[foster_mother][current_ta]" type="text" value="<%= @child[:foster_mother][:current_ta] rescue nil %>"
               class="input_cell" ajaxURL="/search_by_ta"
               condition="__$('child_foster_mother_local_residential_country').value.trim() == 'Malawi'"
               tt_onLoad="clearRelated()"
               tt_onUnload="navigablefieldsets[parseInt(__$('textForchild_foster_mother_current_village').getAttribute('section'))][parseInt(__$('textForchild_foster_mother_current_village').getAttribute('pos'))].setAttribute('ajaxURL', '/search_by_village?district=' + __$('textForchild_foster_mother_current_district').value + '&ta=' + __$('textForchild_foster_mother_current_ta').value);" optional="true"/>
      </div>

      <div class="field">
        <label for="child_foster_mother_current_village">Village/Town</label><br>
        <input id="child_foster_mother_current_village" name="child[foster_mother][current_village]" type="text" value="<%= @child[:foster_mother][:current_village] rescue nil %>"
               class="input_cell"
               condition="__$('child_foster_mother_local_residential_country').value.trim() == 'Malawi'"
	      ajaxURL="/search_by_village" optional="true"/>
      </div>

    </fieldset>
    
     <fieldset condition="__$('child_foster_mother_citizenship').value.trim() != 'Malawian' && (__$('foster_parents').value.trim().toLowerCase() == 'mother' || __$('foster_parents').value.trim().toLowerCase() == 'both');">

      <legend><font size='5' style='border: 2px;'>Details of Adoptive Mother continued: Physical residential address</font></legend>

      <div class="field">
        <label for="child_foster_mother_foreigner_current_district">District/State</label><br>
        <input id="child_foster_mother_foreigner_current_district" name="child[foster_mother][foreigner_current_district]" type="text"
               value="<%= @child[:foster_mother][:foreigner_current_district] rescue nil %>"
               class="input_cell"
               condition="__$('child_foster_mother_citizenship').value.trim() != 'Malawian'"
               optional="true"/>
      </div>


      <div class="field">
        <label for="child_foster_mother_foreigner_current_village">Village/Town</label><br>
        <input id="child_foster_mother_foreigner_current_village"
               name="child[foster_mother][foreigner_current_village]"
	       type="text"
	       value="<%= @child[:foster_mother][:foreigner_current_village] rescue nil %>"
               class="input_cell"
               condition="__$('child_foster_mother_citizenship').value.trim() != 'Malawian'"
               ajaxURL="/search_by_village" optional="true"/>
      </div>

      <div class="field">
        <label for="child_foster_mother_foreigner_current_ta">Address</label><br>
        <input id="child_foster_mother_foreigner_current_ta"
	       name="child[foster_mother][foreigner_current_ta]"
	       type="text"
               value="<%= @child[:foster_mother][:foreigner_current_ta] rescue nil %>"
               class="input_cell"
               condition="__$('child_foster_mother_citizenship').value.trim() != 'Malawian'"
               optional="true"/>
      </div>

    </fieldset>

    <fieldset condition="__$('child_foster_mother_citizenship').value.trim() == 'Malawian' && (__$('foster_parents').value.trim().toLowerCase() == 'mother' || __$('foster_parents').value.trim().toLowerCase() == 'both');">
      <legend><font size='5' style='border: 2px;'>Details of Adoptive Mother continued: Home address</font></legend>


      <div class="field">
        <label for="home_address_same_as_physical_foster">Home address same as the physical address?</label>
        <br>
        <select id="home_address_same_as_physical_foster"
		name="home_address_same_as_physical_foster"
                condition="__$('child_foster_mother_citizenship').value.trim() == 'Malawian'"
		class="input_cell"
		
         	tt_onUnload="if(__$('textForhome_address_same_as_physical_foster').value.trim() == 'Yes'){loadFosterMothersAddress();} else {unloadFosterMothersAddress();}" />
		
          	<option></option>
          	<option value="Yes" >Yes</option>
          	<option value="No" >No</option>
        </select>
      </div>

      <div class="field">
        <label for="child_foster_mother_home_district">District</label><br>
        <input id="child_foster_mother_home_district"
	       name="child[foster_mother][home_district]"
               condition="__$('child_foster_mother_citizenship').value.trim() == 'Malawian'"
	       type="text"
	       value="<%= @child[:foster_mother][:home_district] rescue nil %>"
               class="input_cell"
	       ajaxURL="/search_by_district"
         tt_onLoad="clearRelated()"
               tt_onUnload="navigablefieldsets[parseInt(__$('textForchild_foster_mother_home_ta').getAttribute('section'))][parseInt(__$('textForchild_foster_mother_home_ta').getAttribute('pos'))].setAttribute('ajaxURL', '/search_by_ta?district=' + __$('textForchild_foster_mother_home_district').value);" optional="true"/>
      </div>

      <div class="field">
        <label for="child_foster_mother_home_ta">T/A</label><br>
        <input id="child_foster_mother_home_ta"
	       name="child[foster_mother][home_ta]"
	       condition="__$('child_foster_mother_citizenship').value.trim() == 'Malawian'"
	       type="text"
	       value="<%= @child[:foster_mother][:home_ta] rescue nil %>"
               class="input_cell" ajaxURL="/search_by_ta"
               tt_onLoad="clearRelated()"
               tt_onUnload="navigablefieldsets[parseInt(__$('textForchild_foster_mother_home_village').getAttribute('section'))][parseInt(__$('textForchild_foster_mother_home_village').getAttribute('pos'))].setAttribute('ajaxURL', '/search_by_village?district=' + __$('textForchild_foster_mother_home_district').value + '&ta=' + __$('textForchild_foster_mother_home_ta').value);" optional="true"/>
      </div>

      <div class="field">
        <label for="child_foster_mother_home_village">Village</label><br>
        <input id="child_foster_mother_home_village"
               name="child[foster_mother][home_village]"
               condition="__$('child_foster_mother_citizenship').value.trim() == 'Malawian'"
               type="text"
               value="<%= @child[:foster_mother][:home_village] rescue nil %>"
               class="input_cell"
               ajaxURL="/search_by_village"
               optional="true"/>
      </div>

    </fieldset>


     <fieldset condition="__$('child_foster_mother_citizenship').value.trim() != 'Malawian' && (__$('foster_parents').value.trim().toLowerCase() == 'mother' || __$('foster_parents').value.trim().toLowerCase() == 'both');">

      <legend><font size='5' style='border: 2px;'>Details of Adoptive Mother continued: Home address</font></legend>

       <div class="field">
        <label for="foreigner_home_address_same_as_physical_foster">Home address same as the physical address?</label>
        <br>
        <select id="foreigner_home_address_same_as_physical_foster"
		name="home_address_same_as_physical"
                condition="__$('child_foster_mother_citizenship').value.trim() != 'Malawian'"
		class="input_cell"
         	tt_onUnload= />
          	<option></option>
          	<option value="Yes" >Yes</option>
          	<option value="No" >No</option>
        </select>
      </div>

       <div class="field">
        <label for="child_foster_mother_home_country">Country</label><br>
        <input id="child_foster_mother_home_country" name="child[mother][home_country]" type="text"
               value="<%= @child[:foster_mother][:home_country] rescue nil %>"
               class="input_cell" ajaxURL="/search_by_country"
               condition="__$('child_foster_mother_citizenship').value.trim() != 'Malawian'"
               optional="true"/>
      </div>

      <div class="field">
        <label for="child_foster_mother_foreigner_home_district">District/State</label><br>
        <input id="child_foster_mother_foreigner_home_district" name="child[foster_mother][foreigner_home_district]" type="text"
               value="<%= @child[:foster_mother][:foreigner_home_district] rescue nil %>"
               class="input_cell"
               condition="__$('child_foster_mother_citizenship').value.trim() != 'Malawian'"
               optional="true"/>
      </div>


      <div class="field">
        <label for="child_foster_mother_foreigner_home_village">Village/Town</label><br>
        <input id="child_foster_mother_foreigner_home_village"
               name="child[foster_mother][foreigner_home_village]"
	       type="text"
	       value="<%= @child[:foster_mother][:foreigner_home_village] rescue nil %>"
               class="input_cell"
               condition="__$('child_foster_mother_citizenship').value.trim() != 'Malawian'"
               ajaxURL="/search_by_village" optional="true"/>
      </div>

      <div class="field">
        <label for="child_foster_mother_foreigner_home_ta">Address</label><br>
        <input id="child_foster_mother_foreigner_home_ta"
	       name="child[foster_mother][foreigner_home_ta]"
	       type="text"
               value="<%= @child[:foster_mother][:foreigner_home_ta] rescue nil %>"
               class="input_cell"
               condition="__$('child_foster_mother_citizenship').value.trim() != 'Malawian'"
               optional="true"/>
      </div>

    </fieldset>

<fieldset condition="__$('foster_parents').value.trim().toLowerCase() == 'father' || __$('foster_parents').value.trim().toLowerCase() == 'both';">
      <legend><font size='5' style='border: 2px;'>Details of Adoptive Father</font></legend>

      <!-- Father -->

      <div class="field">
        <label for="child_foster_father_last_name">Surname</label><br>
        <input id="child_foster_father_last_name"
               name="child[foster_father][last_name]"
               type="text"
               value="<%= @child[:foster_father][:last_name] rescue nil %>"
               tt_onUnload = "appendValue('child_foster_father_last_name')"
               ajaxURL = "/get_last_names"
               class="input_cell"
        />
      </div>

      <div class="field">
        <label for="child_foster_father_first_name">First Name</label><br>
        <input id="child_foster_father_first_name"
               name="child[foster_father][first_name]"
               type="text"
               value="<%= @child[:foster_father][:first_name] rescue nil %>"
               tt_onUnload = "appendValue('child_foster_father_first_name')"
               ajaxURL = "/get_first_names"
               class="input_cell"
              />
      </div>

      <div class="field">
        <label for="child_foster_father_middle_name">Other Name</label><br>
        <input id="child_foster_father_middle_name"
               name="child[foster_father][middle_name]"
               type="text"
               value="<%= @child[:foster_father][:middle_name] rescue nil %>"
               ajaxURL = "/get_first_names"
               class="input_cell"
               optional="true"/>
      </div>

      <div class="field">
        <label for="child_foster_father_id_number">ID Number</label><br>
        <input id="child_foster_father_id_number"
               name="child[foster_father][id_number]"
               type="text"
               value="<%= @child[:foster_father][:id_number] rescue nil %>"
               class="input_cell"
               condition="false"
               optional="true"/>
      </div>

    </fieldset>

    <fieldset condition="__$('foster_parents').value.trim().toLowerCase() == 'father' || __$('foster_parents').value.trim().toLowerCase() == 'both';">
      <legend><font size='5' style='border: 2px;'>Details of Adoptive Father continued</font></legend>

      <div class="field">
        <label for="child_foster_father_birthdate">Date of Birth</label><br>

        <input id="child_foster_father_birthdate" name="child[foster_father][birthdate]" type="text"
      	       value="<%= @child[:foster_father][:birthdate] rescue nil %>"
               class="input_cell"
               fieldtype="date"
               optional="true"
               tt_onLoad="validateDate(__$('child_birthdate'), __$('child_foster_father_birthdate'), 100, 14, 115, 8)" />

        <input id="child_foster_father_birthdate_estimated" name="child[foster_father][birthdate_estimated]" type="hidden" optional='true'/>

      </div>

      <div class="field">
        <label for="child_foster_father_citizenship">Nationality</label><br>
        <input id="child_foster_father_citizenship"
               name="child[foster_father][citizenship]"
               type="text"
               value="<%= @child[:foster_father][:citizenship] rescue nil %>"
               class="input_cell"
               ajaxURL="/search_by_nationality" />
      </div>
      
      
      <div class="field">
        <label for="child_foster_father_residential_country">Country of Residence</label><br>
        <input id="child_foster_father_residential_country" name="child[foster_father][residential_country]" type="text"
               value="<%= @child[:foster_father][:residential_country] rescue nil %>"
               class="input_cell" ajaxURL="/search_by_country"
         />
      </div>

    </fieldset>

<fieldset condition="__$('child_foster_father_residential_country').value.trim() == 'Malawi' && (__$('foster_parents').value.trim().toLowerCase() == 'father' || __$('foster_parents').value.trim().toLowerCase() == 'both');">

      <legend><font size='5' style='border: 2px;'>Details of Adoptive Father continued: Physical residential address</font></legend>

     

      <div class="field">
        <label for="child_foster_father_current_district">District</label><br>
        <input id="child_foster_father_current_district" name="child[foster_father][current_district]" type="text" value="<%= @child[:foster_father][:current_district] rescue nil %>"
               class="input_cell" ajaxURL="/search_by_district"
               condition="__$('child_foster_father_residential_country').value.trim() == 'Malawi'"
               tt_onLoad="clearRelated()"
               tt_onUnload="navigablefieldsets[parseInt(__$('textForchild_foster_father_current_ta').getAttribute('section'))][parseInt(__$('textForchild_foster_father_current_ta').getAttribute('pos'))].setAttribute('ajaxURL', '/search_by_ta?district=' + __$('textForchild_foster_father_current_district').value);" optional="true"/>
      </div>

      <div class="field">
        <label for="child_foster_father_current_ta">T/A or Area of Residence</label><br>
        <input id="child_foster_father_current_ta" name="child[foster_father][current_ta]" type="text" value="<%= @child[:foster_father][:current_ta] rescue nil %>"
               class="input_cell" ajaxURL="/search_by_ta"
               condition="__$('child_foster_father_residential_country').value.trim() == 'Malawi'"
               tt_onLoad="clearRelated()"
               tt_onUnload="navigablefieldsets[parseInt(__$('textForchild_foster_father_current_village').getAttribute('section'))][parseInt(__$('textForchild_foster_father_current_village').getAttribute('pos'))].setAttribute('ajaxURL', '/search_by_village?district=' + __$('textForchild_foster_father_current_district').value + '&ta=' + __$('textForchild_foster_father_current_ta').value);" optional="true"/>
      </div>

      <div class="field">
        <label for="child_foster_father_current_village">Village/Town</label><br>
        <input id="child_foster_father_current_village" name="child[foster_father][current_village]" type="text" value="<%= @child[:foster_father][:current_village] rescue nil %>"
               class="input_cell"
               condition="__$('child_foster_father_residential_country').value.trim() == 'Malawi'"
	      ajaxURL="/search_by_village" optional="true"/>
      </div>

    </fieldset>

       
    <fieldset condition="__$('child_foster_father_residential_country').value.trim() != 'Malawi' && (__$('foster_parents').value.trim().toLowerCase() == 'father' || __$('foster_parents').value.trim().toLowerCase() == 'both');">

      <legend><font size='5' style='border: 2px;'>Details of Adoptive Father continued: Physical residential address</font></legend>

      <div class="field">
        <label for="child_foster_father_foreigner_current_district">District/State</label><br>
        <input id="child_foster_father_foreigner_current_district" name="child[foster_father][foreigner_current_district]" type="text"
               value="<%= @child[:foster_father][:foreigner_current_district] rescue nil %>"
               class="input_cell"
               condition="__$('child_foster_father_residential_country').value.trim() != 'Malawi'"
               optional="true"/>
      </div>


      <div class="field">
        <label for="child_foster_father_foreigner_current_village">Village/Town</label><br>
        <input id="child_foster_father_foreigner_current_village"
               name="child[foster_father][foreigner_current_village]"
	       type="text"
	       value="<%= @child[:foster_father][:foreigner_current_village] rescue nil %>"
               class="input_cell"
               condition="__$('child_foster_father_residential_country').value.trim() != 'Malawi'"
               optional="true"/>
      </div>

      <div class="field">
        <label for="child_foster_father_foreigner_current_ta">Address</label><br>
        <input id="child_foster_father_foreigner_current_ta"
	       name="child[foster_father][foreigner_current_ta]"
	       type="text"
               value="<%= @child[:foster_father][:foreigner_current_ta] rescue nil %>"
               class="input_cell"
               condition="__$('child_foster_father_residential_country').value.trim() != 'Malawi'"
               optional="true"/>
      </div>


    </fieldset>

    <fieldset condition="__$('foster_parents').value.trim().toLowerCase() == 'father' || __$('foster_parents').value.trim().toLowerCase() == 'both';">
      <legend><font size='5' style='border: 2px;'>Details of Adoptive Father continued: Home Address</font></legend>

      <div class="field">
        <label for="foster_father_home_address_same_as_physical">Home address same as the physical address?</label>
        <br>
        <select id="foster_father_home_address_same_as_physical"
        name="home_address_same_as_physical"
        class="input_cell" 
        tt_onUnload="if(__$('textForfoster_father_home_address_same_as_physical').value.trim() == 'Yes'){loadFosterFathersAddress();} else {unloadFosterFathersAddress();}" />
        <option></option>
        <option value="Yes" >Yes</option>
        <option value="No" >No</option>
      </select>
    </div>

      <div class="field">
        <label for="child_foster_father_home_district">District</label><br>
        <input id="child_foster_father_home_district"
               name="child[foster_father][home_district]"
               type="text"
               value="<%= @child[:foster_father][:home_district] rescue nil %>"
               class="input_cell"
               ajaxURL="/search_by_district"
               tt_onUnload="navigablefieldsets[parseInt(__$('textForchild_foster_father_home_ta').getAttribute('section'))][parseInt(__$('textForchild_foster_father_home_ta').getAttribute('pos'))].setAttribute('ajaxURL', '/search_by_ta?district=' + __$('textForchild_foster_father_home_district').value);" optional="true" />
      </div>

      <div class="field">
        <label for="child_foster_father_home_ta">T/A</label><br>
        <input id="child_foster_father_home_ta"
               name="child[foster_father][home_ta]"
               type="text"
               value="<%= @child[:foster_father][:home_ta] rescue nil %>"
               class="input_cell"
               ajaxURL="/search_by_ta"
               tt_onUnload="navigablefieldsets[parseInt(__$('textForchild_foster_father_home_village').getAttribute('section'))][parseInt(__$('textForchild_foster_father_home_village').getAttribute('pos'))].setAttribute('ajaxURL', '/search_by_village?district=' + __$('textForchild_foster_father_home_district').value + '&ta=' + __$('textForchild_foster_father_home_ta').value);"
               optional="true"/>
      </div>

      <div class="field">
        <label for="child_foster_father_home_village">Village</label><br>
        <input id="child_foster_father_home_village"
               name="child[foster_father][home_village]"
               type="text"
               value="<%= @child[:foster_father][:home_village] rescue nil %>"
               class="input_cell"
               ajaxURL="/search_by_village" optional="true" />
      </div>

    </fieldset>
    <!-- Foster parents --> 

    <fieldset>
      <legend><font size='5' style='border: 2px;'>Details of Informant</font></legend>

      <!-- Informant -->

      <div class="field">
        <label for="informant_same_as_mother">Adoptive Mother is informant?</label><br>
        <select id="informant_same_as_mother" 
           name="informant_same_as_mother"
           class="input_cell" 
           condition="__$('foster_parents').value.trim().toLowerCase() == 'mother' || __$('foster_parents').value.trim().toLowerCase() == 'both';"
           tt_onUnload="if(__$('textForinformant_same_as_mother').value.trim() == 'Yes'){setTimeout(function(){loadFosterMothersDetails()}, 60);} else {unloadInformantsDetails();}">
          <option></option>
          <option value="Yes" >Yes</option>
          <option value="No" >No</option>

        </select>

      </div>

      <div class="field">
        <label for="informant_same_as_father">Adoptive Father is informant?</label><br>
        <select id="informant_same_as_father" name="informant_same_as_father" class="input_cell" tt_onUnload="if(__$('textForinformant_same_as_father').value.trim() == 'Yes'){loadFosterFathersDetails();} else {unloadInformantsDetails();}"
           condition="__$('foster_parents').value.trim().toLowerCase() == 'father' || __$('foster_parents').value.trim().toLowerCase() == 'both';">
          <option></option>
          <option value="Yes" >Yes</option>
          <option value="No" >No</option>

        </select>


      <div class="field">
        <label for="child_informant_last_name">Surname</label><br>
        <input id="child_informant_last_name"
               name="child[informant][last_name]"
               type="text"
               ajaxURL = "/get_last_names"
               value="<%= @child[:informant][:last_name] rescue nil %>"
               class="input_cell"/>
      </div>

      <div class="field">
        <label for="child_informant_first_name">First Name</label><br>
        <input id="child_informant_first_name"
               name="child[informant][first_name]"
               type="text"
               ajaxURL = "/get_first_names"
               value="<%= @child[:informant][:first_name] rescue nil %>"
               class="input_cell" />
      </div>

      <div class="field">
        <label for="child_informant_middle_name">Other Name</label><br>
        <input id="child_informant_middle_name"
               name="child[informant][middle_name]"
               type="text"
               ajaxURL = "/get_first_names"
               value="<%= @child[:informant][:middle_name] rescue nil %>"
               class="input_cell" optional="true" />
      </div>

      <div class="field">
        <label for="child_informant_id_number">ID Number</label><br>
        <input id="child_informant_id_number" 
               name="child[informant][id_number]" 
               type="text" 
               value="<%= @child[:informant][:id_number] rescue nil %>"
               class="input_cell" 
               condition="false"
               optional="true" />
      </div>

      <div class="field">
        <label for="child_informant_relationship_to_child">Relationship To Child</label><br>
        <select id="child_informant_relationship_to_child" name="child[informant][relationship_to_child]" class="input_cell">
          <option></option>
          <option <%= ((@child[:child_informant_relationship_to_child] rescue nil) == "Mother" ? "selected" : "") %> >Mother</option>
          <option <%= ((@child[:child_informant_relationship_to_child] rescue nil) == "Father" ? "selected" : "") %> >Father</option>
          <option <%= ((@child[:child_informant_relationship_to_child] rescue nil) == "Brother/Sister" ? "selected" : "") %> >Brother/Sister</option>
          <option <%= ((@child[:child_informant_relationship_to_child] rescue nil) == "Aunt/Uncle" ? "selected" : "") %> >Aunt/Uncle</option>
          <option <%= ((@child[:child_informant_relationship_to_child] rescue nil) == "Mother-in-law/Father-in-law" ? "selected" : "") %> >Mother-in-law/Father-in-law</option>
          <option <%= ((@child[:child_informant_relationship_to_child] rescue nil) == "Sister-in-marriage/Brother-in-marriage" ? "selected" : "") %> >Sister-in-marriage/Brother-in-marriage</option>
          <option <%= ((@child[:child_informant_relationship_to_child] rescue nil) == "Other" ? "selected" : "") %> >Other</option>
        </select>
      </div>
    </div>
    </fieldset>

    <fieldset>
      <legend><font size='5' style='border: 2px;'>Details of Informant continued: Address</font></legend>

      <div class="field">
        <label for="child_informant_current_district">District</label><br>
        <input id="child_informant_current_district" name="child[informant][current_district]" type="text" value="<%= @child[:informant][:current_district] rescue nil %>" class="input_cell" ajaxURL = "/search_by_district" />
      </div>

      <div class="field">
        <label for="child_informant_addressline1">Postal Address</label><br>
        <input id="child_informant_addressline1" name="child[informant][addressline1]" type="text" value="<%= @child[:informant][:addressline1] rescue nil %>" class="input_cell" placeholder= "e.g. P.O Box 31797 or Current Village" optional="true"/>
      </div>

      <div class="field">
        <label for="child_informant_addressline2"></label><br>
        <input id="child_informant_addressline2" name="child[informant][addressline2]" type="text" value="<%= @child[:informant][:addressline2] rescue nil %>"
               class="input_cell" optional="true" placeholder= "Lilongwe 3" optional="true" />
      </div>

      </fieldset>
      <fieldset>
      <legend><font size='5' style='border: 2px;'>Details of Informant continued.. </font></legend>

      <div class="field">

        <label for="child_informant_phone_number">Phone Number</label><br>

        <input id="child_informant_phone_number" name="child[informant][phone_number]" type="text" value="<%= @child[:informant][:phone_number] rescue nil %>"
               class="input_cell" optional='true' fieldtype="decimal" regex='^0(?=\d*$)(?:.{7}|.{9})|^N\/A$' regex_message="Please enter a valid phone number" />

      </div>

       <div class="field">
        <label for="form_signed">Has the form been signed by the Informant?</label>
        <br>
        <select id="form_signed" name="child[form_signed]" class="input_cell">
          <option></option>
          <option value="Yes" <%= ((@child[:form_signed] rescue nil) == "Yes" ? "selected" : "") %> >Yes</option>
          <option value="No" <%= ((@child[:form_signed] rescue nil) == "No" ? "selected" : "") %> >No</option>
        </select>
      </div>

      <div class="field">
        <label for="child_acknowledgement_of_receipt_date">Date of Reporting</label>
        <br>
        <input type="hidden" name="registration_type" id="registration_type">
        <%= (f.text_field :acknowledgement_of_receipt_date,
                          :class => "input_cell",
                          :value => Date.today.strftime('%d/%b/%Y'),
                          :fieldtype => "date",
                          :tt_onUnload => 'updateRegistrationType();setTimeout("checkValues()", 500)',
                          :absolute_min => 'reportingDate()',
                          :absolute_max => Date.today.strftime('%Y/%m/%d')) rescue "" %>

      </div>

    </fieldset>

    <div class="actions">
      <%#= f.submit :id => "btnAction", :class => "buttons blue", :style => "position: absolute; right: 160px; bottom: 20px;" %>
    </div>
<% end %>

<script>
    function reportingDate(){

      commence = new Date(8 + '/' + 1 + '/' + 2015);

      original = new Date(6 + '/' + 15 + '/' + 2015);

      if (original < commence){
        commence = original;
      }

      return original.getDate() + "/" + months[original.getMonth()] + "/" + original.getFullYear();

    }

    function appendValue(id){
      setTimeout("checkChanges('" + id + "')", 1000);
    }

    function possibleChildren(obj, tag){

      // This function assigns limits to a target element based on type of birth

      var min = 1;
      if (obj.value.match(/Twin/i)){

        min = 2;

      }else if (obj.value.match(/Triplet/i)){

        min = 3;

      }else if (obj.value.match(/Other/i)){

        min = 4;

      }

      tag.setAttribute("absolute_min", min);

    }

    function validateDate(obj, tag, min, max, absoluteMin, absoluteMax){

        // This function assigns limits to a target element based on parameters

        ele = obj.value
        ele = ele.split('/');

        if (obj.value.match(/\W?/i)) {
            if (ele[1] == '?') {
                ele[0] = "1";
                ele[1] = "07";
            }
            else if (ele[0] == '?') {
                ele[1] = parseInt(monthNames[ele[1]]) + 1;
                ele[1] = (ele[1] < 10 ? "0" + ele[1] : ele[1])
                ele[0] = "15"
            }
        }
        else {
            ele[1] = parseInt(monthNames[ele[1]]);
            ele[1] = ele[1] + 1

            if (ele[1] < 10){
                ele[1] = "0" + ele[1];
            }
        }

        current = new Date(ele[1] + "/" + ele[0] + "/" + ele[2]);

        yr1 = current.getFullYear() - min;
        yr2 = current.getFullYear() - max;
        yr3 = current.getFullYear() - absoluteMax;
        yr4 = current.getFullYear() - absoluteMin;

        min =  yr1 + '/' + ele[1] + '/' + ele[0];
        max = yr2 + '/' + ele[1] + '/' + ele[0];
        absoluteMax =  yr3 + '/' + ele[1] + '/' + ele[0];

        if (parseInt(absoluteMin) > 0) {
            absoluteMin =  yr4 + '/' + ele[1] + '/' + ele[0];
        }else{
            absoluteMin = "";
        }


        tag.setAttribute("min", min);
        tag.setAttribute("max", max);
        tag.setAttribute("absolute_max", absoluteMax);
        tag.setAttribute("absolute_min", absoluteMin);

    }


    function nationality(){

      if(__$('textForsame_address_with_mother').value.trim() == 'Yes' && __$('child_mother_citizenship').value.trim() == 'Malawian') {
        copyMothersResidence();
      }
      else if (__$('textForsame_address_with_mother').value.trim() == 'Yes' && __$('child_mother_citizenship').value.trim() != 'Malawian'){
        copyMothersForeignResidence()
      }else {
        deleteFathersResidence();
      }
    }

    function copyMothersForeignResidence(){

      if (__$("child_father_residential_country") && __$("textForchild_father_residential_country") && __$("child_mother_residential_country"))
      {
            __$("child_father_residential_country").value = __$("child_mother_residential_country").value;
            __$("textForchild_father_residential_country").value = __$("child_mother_residential_country").value;
      }

      if (__$("child_father_current_district") && __$("child_mother_foreigner_current_district")){
        __$("child_father_current_district").value = __$("child_mother_foreigner_current_district").value;

        __$("textForchild_father_current_district").value = __$("child_mother_foreigner_current_district").value;
      }

      if (__$("child_father_current_village") && __$("child_mother_foreigner_current_village")){
        __$("child_father_current_village").value = __$("child_mother_foreigner_current_village").value;

        __$("textForchild_father_current_village").value = __$("child_mother_foreigner_current_village").value;
      }

      if (__$("child_father_current_ta") && __$("child_mother_foreigner_current_ta") && __$("textForchild_father_current_ta")) {

        __$("child_father_current_ta").value = __$("child_mother_foreigner_current_ta").value;

        __$("textForchild_father_current_ta").value = __$("child_mother_foreigner_current_ta").value;

      }

        var section =  parseInt(__$("textForchild_father_current_district").getAttribute("section"));
        loadPage(section + 1);

        setTimeout(function() {
            var section = parseInt(__$("textForfather_home_address_same_as_physical").getAttribute("section"));
            var pos = parseInt(__$("textForfather_home_address_same_as_physical").getAttribute("pos"));
            navigateTo(pos, section, false);
        }, 25);
    }

    function autoNavigate(id){

      var pos = parseInt(__$(id).getAttribute("pos")) + 1;

      var section =  parseInt(__$(id).getAttribute("section"));

      gotoQuestion(pos, section);

    }

    function copyMothersResidence() {

        if (__$("child_father_residential_country") && __$("textForchild_father_residential_country") && __$("child_mother_local_residential_country"))
        {
            __$("child_father_residential_country").value = __$("child_mother_local_residential_country").value;
            __$("textForchild_father_residential_country").value = __$("child_mother_local_residential_country").value;
        }

        if (__$("child_father_current_district") && __$("child_mother_current_district") && __$("textForchild_father_current_district")) {

            __$("child_father_current_district").value = __$("child_mother_current_district").value;

            __$("textForchild_father_current_district").value = __$("child_mother_current_district").value;

        }

        if (__$("child_father_current_ta") && __$("child_mother_current_ta") && __$("textForchild_father_current_ta")) {

            __$("child_father_current_ta").value = __$("child_mother_current_ta").value;

            __$("textForchild_father_current_ta").value = __$("child_mother_current_ta").value;

        }

        if (__$("child_father_current_village") && __$("child_mother_current_village") && __$("textForchild_father_current_village")) {

            __$("child_father_current_village").value = __$("child_mother_current_village").value;

            __$("textForchild_father_current_village").value = __$("child_mother_current_village").value;

        }

        var section =  parseInt(__$("textForchild_father_current_district").getAttribute("section"));
        loadPage(section + 1);

        setTimeout(function() {
            var section = parseInt(__$("textForfather_home_address_same_as_physical").getAttribute("section"));
            var pos = parseInt(__$("textForfather_home_address_same_as_physical").getAttribute("pos"));
            navigateTo(pos, section, false);
        }, 25);

    }

    function loadFathersAddress(){

      if (__$("child_father_current_district") && __$("child_father_home_district")  && __$("textForchild_father_home_district")) {

        __$("child_father_home_district").value = __$("child_father_current_district").value;

        __$("textForchild_father_home_district").value = __$("child_father_current_district").value;

        //autoNavigate("textForchild_father_home_district");

      }

      if (__$("child_father_current_ta") && __$("child_father_home_ta") && __$("textForchild_father_home_ta")) {

        __$("child_father_home_ta").value = __$("child_father_current_ta").value;

        __$("textForchild_father_home_ta").value = __$("child_father_current_ta").value;

        //  autoNavigate("textForchild_father_home_ta");
      }

      if (__$("child_father_current_village") && __$("child_father_home_village") && __$("textForchild_father_home_village")) {

        __$("child_father_home_village").value = __$("child_father_current_village").value;

         __$("textForchild_father_home_village").value = __$("child_father_current_village").value;

        //autoNavigate("textForchild_father_home_village");
      }


        var section =  parseInt(__$("textForchild_father_home_district").getAttribute("section"));
        loadPage(section + 1);

        setTimeout(function() {
            var section = parseInt(__$("textForinformant_same_as_mother").getAttribute("section"));

            navigateTo(0, section, false);
        }, 25);
    }

    function unloadFathersAddress(){

      if (__$("child_father_home_district") && __$("textForchild_father_home_district")) {

        __$("child_father_home_district").value = "";

        __$("textForchild_father_home_district").value = "";

      }

      if (__$("child_father_home_ta") && __$("textForchild_father_home_ta")) {

        __$("child_father_home_ta").value = "";

        __$("textForchild_father_home_ta").value = "";

      }

      if (__$("child_father_home_village") && __$("textForchild_father_home_village")) {

        __$("child_father_home_village").value = "";

        if (__$("textForchild_father_home_village"))
        __$("textForchild_father_home_village").value = "";

      }


    }

    function deleteFathersResidence(){

        if (__$("child_father_residential_country") && __$("textForchild_father_residential_country"))
        {
            __$("child_father_residential_country").value = "";
            __$("textForchild_father_residential_country").value = "";
        }

        if (__$("child_father_current_district") &&  __$("textForchild_father_current_district")) {

            __$("child_father_current_district").value = "";

            __$("textForchild_father_current_district").value = "";

        }

        if (__$("child_father_current_ta") && __$("textForchild_father_current_ta")) {

            __$("child_father_current_ta").value = "";

            __$("textForchild_father_current_ta").value = "";

        }

        if (__$("child_father_current_village") && __$("textForchild_father_current_village")) {

            __$("child_father_current_village").value = "";

            __$("textForchild_father_current_village").value = "";

        }

    }


    function loadFathersDetails(){

        if (__$("child_father_first_name") && __$("child_informant_first_name") && __$("textForchild_informant_first_name")) {

            __$("child_informant_first_name").value = __$("child_father_first_name").value;

            __$("textForchild_informant_first_name").value = __$("child_father_first_name").value;

        }

        if (__$("child_father_middle_name") && __$("child_informant_middle_name") && __$("textForchild_informant_middle_name")) {

            __$("child_informant_middle_name").value = __$("child_father_middle_name").value;

            __$("textForchild_informant_middle_name").value = __$("child_father_middle_name").value;

        }

        if (__$("child_father_last_name") && __$("child_informant_last_name") && __$("textForchild_informant_last_name")) {

            __$("child_informant_last_name").value = __$("child_father_last_name").value;

            __$("textForchild_informant_last_name").value = __$("child_father_last_name").value;

        }

        if (__$("child_informant_relationship_to_child") && __$("textForchild_informant_relationship_to_child")) {

            __$("child_informant_relationship_to_child").value = "Father";

            __$("textForchild_informant_relationship_to_child").value = "Father";

        }

        if (__$("child_father_current_district") && __$("child_informant_current_district")) {

            __$("child_informant_current_district").value = __$("child_father_current_district").value;

        }

        if (__$("child_father_current_ta") && __$("child_informant_current_ta")) {

            __$("child_informant_current_ta").value = __$("child_father_current_ta").value;

        }

        if (__$("child_father_current_village") && __$("child_informant_current_village")) {

            __$("child_informant_current_village").value = __$("child_father_current_village").value;

        }

        if (__$("child_father_id_number")) {

            __$("child_informant_id_number").value = __$("child_father_id_number").value;

            __$("textForchild_informant_id_number").value = __$("child_father_id_number").value;


        }

        var section =  parseInt(__$("textForchild_informant_id_number").getAttribute("section"));
        loadPage(section + 1);
        var section =  parseInt(__$("textForchild_informant_addressline1").getAttribute("section"));
        var pos = parseInt(__$("textForchild_informant_addressline1").getAttribute("pos"));
        navigateTo(pos, section, false);
    }

    function loadMothersAddress(){

      if (__$("child_mother_current_district") && __$("child_mother_home_district")) {

        __$("child_mother_home_district").value = __$("child_mother_current_district").value;

        __$("textForchild_mother_home_district").value = __$("child_mother_current_district").value;

        autoNavigate("textForchild_mother_home_district");

      }

      if (__$("child_mother_current_ta") && __$("child_mother_home_ta")) {

        __$("child_mother_home_ta").value = __$("child_mother_current_ta").value;

        __$("textForchild_mother_home_ta").value = __$("child_mother_current_ta").value;

         autoNavigate("textForchild_mother_home_ta");

      }

      if (__$("child_mother_current_village") && __$("child_mother_home_village")) {

        __$("child_mother_home_village").value = __$("child_mother_current_village").value;

        //showMsg(__$("textForchild_mother_home_village").value);

        //__$("textForchild_mother_home_village").value = __$("child_mother_current_village").value;

        autoNavigate("textForchild_mother_home_village");
      }

        var section =  parseInt(__$("textForchild_mother_home_district").getAttribute("section"));
        loadPage(section + 1);

        var section =  parseInt(__$("textForchild_child_gestation_at_birth").getAttribute("section"));
        var pos = parseInt(__$("textForchild_child_gestation_at_birth").getAttribute("pos"));
        navigateTo(pos, section, false);

    }

    function unloadMothersAddress(){

      if (__$("child_mother_home_district") && __$("textForchild_mother_home_district")) {

        __$("child_mother_home_district").value = "";

        __$("textForchild_mother_home_district").value = "";

      }

      if (__$("child_mother_home_ta") && __$("textForchild_mother_home_ta")) {

        __$("child_mother_home_ta").value = "";

        __$("textForchild_mother_home_ta").value = "";

      }

      if (__$("child_mother_home_village") && __$("textForchild_mother_home_village")) {

        __$("child_mother_home_village").value = "";

        __$("textForchild_mother_home_village").value = "";

      }


    }

    function loadForeignMothersAddress(){

      if (__$("child_mother_residential_country") && __$("child_mother_home_country")) {

        __$("child_mother_home_country").value = __$("child_mother_residential_country").value;

        __$("textForchild_mother_home_country").value = __$("child_mother_residential_country").value;

        //autoNavigate("textForchild_mother_home_country");

      }

      if (__$("child_mother_foreigner_current_district") && __$("child_mother_foreigner_home_district")) {

        __$("child_mother_foreigner_current_district").value = __$("child_mother_foreigner_current_district").value;

        __$("textForchild_mother_foreigner_home_district").value = __$("child_mother_foreigner_current_district").value;

        //autoNavigate("textForchild_mother_foregner_home_district");

      }

      if (__$("child_mother_foreigner_current_village") && __$("child_mother_foreigner_home_village")) {

        __$("child_mother_foreigner_home_village").value = __$("child_mother_foreigner_current_village").value;

        __$("textForchild_mother_foreigner_home_village").value = __$("child_mother_foreigner_current_village").value;

        //autoNavigate("textForchild_mother_foreigner_home_village");

      }

      if (__$("child_mother_foreigner_current_ta") && __$("child_mother_foreigner_home_ta")) {

        __$("child_mother_foreigner_home_ta").value = __$("child_mother_foreigner_current_ta").value;

        __$("textForchild_mother_foreigner_home_ta").value = __$("child_mother_foreigner_current_ta").value;

        //autoNavigate("textForchild_mother_foreigner_home_ta");

      }

        var section =  parseInt(__$("textForchild_mother_home_country").getAttribute("section"));
        loadPage(section + 1);

        var section =  parseInt(__$("textForchild_child_gestation_at_birth").getAttribute("section"));
        var pos = parseInt(__$("textForchild_child_gestation_at_birth").getAttribute("pos"));
        navigateTo(pos, section, false);


    }

    function unloadForeignMothersAddress(){

      if (__$("child_mother_home_country") && __$("textForchild_mother_home_country")) {

        __$("child_mother_home_country").value = "";

        __$("textForchild_mother_home_country").value = "";

      }


      if (__$("child_mother_foreigner_home_district") && __$("textForchild_mother_foreigner_home_district")) {

        __$("child_mother_foreigner_home_district").value = "";

        __$("textForchild_mother_foreigner_home_district").value = "";

      }

      if (__$("child_mother_foreigner_home_ta") && __$("textForchild_mother_foreigner_home_ta")) {

        __$("child_mother_foreigner_home_ta").value = "";

        __$("textForchild_mother_foreigner_home_ta").value = "";

      }

      if (__$("child_mother_foreigner_home_village") && __$("textForchild_mother_foreigner_home_village")) {

        __$("child_mother_foreigner_home_village").value = "";

        __$("textForchild_mother_foreigner_home_village").value = "";

      }

    }

    function loadMothersDetails(){

        if (__$("child_mother_first_name") && __$("child_informant_first_name") && __$("textForchild_informant_first_name")) {

            __$("child_informant_first_name").value = __$("child_mother_first_name").value;

            __$("textForchild_informant_first_name").value = __$("child_mother_first_name").value;

        }

        if (__$("child_mother_middle_name") && __$("child_informant_middle_name") && __$("textForchild_informant_middle_name")) {

            __$("child_informant_middle_name").value = __$("child_mother_middle_name").value;

            __$("textForchild_informant_middle_name").value = __$("child_mother_middle_name").value;

        }

        if (__$("child_mother_last_name") && __$("child_informant_last_name") && __$("textForchild_informant_last_name")) {

            __$("child_informant_last_name").value = __$("child_mother_last_name").value;

            __$("textForchild_informant_last_name").value = __$("child_mother_last_name").value;

        }

        if (__$("child_informant_relationship_to_child") && __$("textForchild_informant_relationship_to_child")) {

            __$("child_informant_relationship_to_child").value = "Mother";

            __$("textForchild_informant_relationship_to_child").value = "Mother";

        }

        if (__$("child_mother_current_district") && __$("child_informant_current_district")) {

            __$("child_informant_current_district").value = __$("child_mother_current_district").value;

        }

        if (__$("child_mother_current_ta") && __$("child_informant_current_ta")) {

            __$("child_informant_current_ta").value = __$("child_mother_current_ta").value;

        }

        if (__$("child_mother_current_village") && __$("child_informant_current_village")) {

            __$("child_informant_current_village").value = __$("child_mother_current_village").value;

        }

        if (__$("child_mother_id_number")) {

            __$("child_informant_id_number").value = __$("child_mother_id_number").value;

            __$("textForchild_informant_id_number").value = __$("child_mother_id_number").value;

        }

        var section =  parseInt(__$("textForchild_informant_id_number").getAttribute("section"));
        loadPage(section + 1);

        var section =  parseInt(__$("textForchild_informant_addressline1").getAttribute("section"));
        var pos = parseInt(__$("textForchild_informant_addressline1").getAttribute("pos"));
        navigateTo(pos, section, false);
    }
    
    
    function loadFosterMothersDetails(){

        if (__$("child_foster_mother_first_name") && __$("child_informant_first_name") && __$("textForchild_informant_first_name")) {

            __$("child_informant_first_name").value = __$("child_foster_mother_first_name").value;

            __$("textForchild_informant_first_name").value = __$("child_foster_mother_first_name").value;

        }

        if (__$("child_foster_mother_middle_name") && __$("child_informant_middle_name") && __$("textForchild_informant_middle_name")) {

            __$("child_informant_middle_name").value = __$("child_foster_mother_middle_name").value;

            __$("textForchild_informant_middle_name").value = __$("child_foster_mother_middle_name").value;

        }

        if (__$("child_foster_mother_last_name") && __$("child_informant_last_name") && __$("textForchild_informant_last_name")) {

            __$("child_informant_last_name").value = __$("child_foster_mother_last_name").value;

            __$("textForchild_informant_last_name").value = __$("child_foster_mother_last_name").value;

        }

        
            __$("child_informant_relationship_to_child").value = "Mother";

            __$("textForchild_informant_relationship_to_child").value = "Mother";


        if (__$("child_foster_mother_current_district") && __$("child_informant_current_district")) {

            __$("child_informant_current_district").value = __$("child_foster_mother_current_district").value;

        }

        if (__$("child_foster_mother_current_ta") && __$("child_informant_current_ta")) {

            __$("child_informant_current_ta").value = __$("child_foster_mother_current_ta").value;

        }

        if (__$("child_foster_mother_current_village") && __$("child_informant_current_village")) {

            __$("child_informant_current_village").value = __$("child_foster_mother_current_village").value;

        }

        if (__$("child_foster_mother_id_number")) {

            __$("child_informant_id_number").value = __$("child_foster_mother_id_number").value;

            __$("textForchild_informant_id_number").value = __$("child_foster_mother_id_number").value;

        }

        var section =  parseInt(__$("textForchild_informant_id_number").getAttribute("section"));
        loadPage(section + 1);

        var section =  parseInt(__$("textForchild_informant_addressline1").getAttribute("section"));
        var pos = parseInt(__$("textForchild_informant_addressline1").getAttribute("pos"));
        navigateTo(pos, section, false);
    }
    
    
    function loadFosterFathersDetails(){

        if (__$("child_foster_father_first_name") && __$("child_informant_first_name") && __$("textForchild_informant_first_name")) {

            __$("child_informant_first_name").value = __$("child_foster_father_first_name").value;

            __$("textForchild_informant_first_name").value = __$("child_foster_father_first_name").value;

        }

        if (__$("child_foster_father_middle_name") && __$("child_informant_middle_name") && __$("textForchild_informant_middle_name")) {

            __$("child_informant_middle_name").value = __$("child_foster_father_middle_name").value;

            __$("textForchild_informant_middle_name").value = __$("child_foster_father_middle_name").value;

        }

        if (__$("child_foster_father_last_name") && __$("child_informant_last_name") && __$("textForchild_informant_last_name")) {

            __$("child_informant_last_name").value = __$("child_foster_father_last_name").value;

            __$("textForchild_informant_last_name").value = __$("child_foster_father_last_name").value;

        }

        

            __$("child_informant_relationship_to_child").value = "Father";

            __$("textForchild_informant_relationship_to_child").value = "Father";

      

        if (__$("child_foster_father_current_district") && __$("child_informant_current_district")) {

            __$("child_informant_current_district").value = __$("child_foster_father_current_district").value;

        }

        if (__$("child_foster_father_current_ta") && __$("child_informant_current_ta")) {

            __$("child_informant_current_ta").value = __$("child_foster_father_current_ta").value;

        }

        if (__$("child_foster_father_current_village") && __$("child_informant_current_village")) {

            __$("child_informant_current_village").value = __$("child_foster_father_current_village").value;

        }

        if (__$("child_foster_father_id_number")) {

            __$("child_informant_id_number").value = __$("child_foster_father_id_number").value;

            __$("textForchild_informant_id_number").value = __$("child_foster_father_id_number").value;


        }

        var section =  parseInt(__$("textForchild_informant_id_number").getAttribute("section"));
        loadPage(section + 1);
        var section =  parseInt(__$("textForchild_informant_addressline1").getAttribute("section"));
        var pos = parseInt(__$("textForchild_informant_addressline1").getAttribute("pos"));
        navigateTo(pos, section, false);
    }

    
    function unloadInformantsDetails(){

        if (__$("child_informant_first_name") && __$("textForchild_informant_first_name")) {

            __$("child_informant_first_name").value = "";

            __$("textForchild_informant_first_name").value = "";

        }

        if (__$("child_informant_middle_name") && __$("textForchild_informant_middle_name")) {

            __$("child_informant_middle_name").value = "";

            __$("textForchild_informant_middle_name").value = "";

        }

        if (__$("child_informant_last_name") && __$("textForchild_informant_last_name")) {

            __$("child_informant_last_name").value = "";

            __$("textForchild_informant_last_name").value = "";

        }

        if (__$("child_informant_relationship_to_child") && __$("textForchild_informant_relationship_to_child")) {

            __$("child_informant_relationship_to_child").value = "";

            __$("textForchild_informant_relationship_to_child").value = "";

        }

        if (__$("child_informant_current_district") && __$("textForchild_informant_current_district")) {

            __$("child_informant_current_district").value = "";

            __$("textForchild_informant_current_district").value = "";

        }

        if (__$("child_informant_current_ta") && __$("textForchild_informant_current_ta")) {

            __$("child_informant_current_ta").value = "";

            __$("textForchild_informant_current_ta").value = "";

        }

        if (__$("child_informant_current_village") && __$("textForchild_informant_current_village")) {

            __$("child_informant_current_village").value = "";

            __$("textForchild_informant_current_village").value = "";

        }

        if(__$("child_informant_id_number") && __$("textForchild_informant_id_number")) {

             __$("child_informant_id_number").value = "";

            __$("textForchild_informant_id_number").value = "";
        }


    }
    
    
    function loadFosterMothersAddress(){

      if (__$("child_foster_mother_current_district") && __$("child_foster_mother_home_district")) {

        __$("child_foster_mother_home_district").value = __$("child_foster_mother_current_district").value;

        __$("textForchild_foster_mother_home_district").value = __$("child_foster_mother_current_district").value;

        autoNavigate("textForchild_foster_mother_home_district");

      }

      if (__$("child_foster_mother_current_ta") && __$("child_foster_mother_home_ta")) {

        __$("child_foster_mother_home_ta").value = __$("child_foster_mother_current_ta").value;

        __$("textForchild_foster_mother_home_ta").value = __$("child_foster_mother_current_ta").value;

         autoNavigate("textForchild_foster_mother_home_ta");

      }

      if (__$("child_foster_mother_current_village") && __$("child_foster_mother_home_village")) {

        __$("child_foster_mother_home_village").value = __$("child_foster_mother_current_village").value;

        //showMsg(__$("textForchild_mother_home_village").value);

        //__$("textForchild_mother_home_village").value = __$("child_mother_current_village").value;

        autoNavigate("textForchild_foster_mother_home_village");
      }

        var section =  parseInt(__$("textForchild_foster_mother_home_district").getAttribute("section"));
        loadPage(section + 1);

        var section =  parseInt(__$("textForchild_foster_father_last_name").getAttribute("section"));
        var pos = parseInt(__$("textForchild_foster_father_last_name").getAttribute("pos"));
        navigateTo(pos, section, false);

    }

    function unloadFosterMothersAddress(){

      if (__$("child_foster_mother_home_district") && __$("textForchild_foster_mother_home_district")) {

        __$("child_foster_mother_home_district").value = "";

        __$("textForchild_foster_mother_home_district").value = "";

      }

      if (__$("child_foster_mother_home_ta") && __$("textForchild_foster_mother_home_ta")) {

        __$("child_foster_mother_home_ta").value = "";

        __$("textForchild_foster_mother_home_ta").value = "";

      }

      if (__$("child_foster_mother_home_village") && __$("textForchild_foster_mother_home_village")) {

        __$("child_foster_mother_home_village").value = "";

        __$("textForchild_foster_mother_home_village").value = "";

      }


    }
    
    
    
    function loadFosterFathersAddress(){

      if (__$("child_foster_father_current_district") && __$("child_foster_father_home_district")  && __$("textForchild_foster_father_home_district")) {

        __$("child_foster_father_home_district").value = __$("child_foster_father_current_district").value;

        __$("textForchild_foster_father_home_district").value = __$("child_foster_father_current_district").value;

        //autoNavigate("textForchild_father_home_district");

      }

      if (__$("child_foster_father_current_ta") && __$("child_foster_father_home_ta") && __$("textForchild_foster_father_home_ta")) {

        __$("child_foster_father_home_ta").value = __$("child_foster_father_current_ta").value;

        __$("textForchild_foster_father_home_ta").value = __$("child_foster_father_current_ta").value;

        //  autoNavigate("textForchild_father_home_ta");
      }

      if (__$("child_foster_father_current_village") && __$("child_foster_father_home_village") && __$("textForchild_foster_father_home_village")) {

        __$("child_foster_father_home_village").value = __$("child_foster_father_current_village").value;

         __$("textForchild_foster_father_home_village").value = __$("child_foster_father_current_village").value;

        //autoNavigate("textForchild_father_home_village");
      }


        var section =  parseInt(__$("textForchild_foster_father_home_district").getAttribute("section"));
        loadPage(section + 1);

        setTimeout(function() {
            var section = parseInt(__$("textForinformant_same_as_mother").getAttribute("section"));

            navigateTo(0, section, false);
        }, 25);
    }

    function unloadFosterFathersAddress(){

      if (__$("child_foster_father_home_district") && __$("textForchild_foster_father_home_district")) {

        __$("child_foster_father_home_district").value = "";

        __$("textForchild_foster_father_home_district").value = "";

      }

      if (__$("child_foster_father_home_ta") && __$("textForchild_foster_father_home_ta")) {

        __$("child_foster_father_home_ta").value = "";

        __$("textForchild_foster_father_home_ta").value = "";

      }

      if (__$("child_foster_father_home_village") && __$("textForchild_foster_father_home_village")) {

        __$("child_foster_father_home_village").value = "";

        if (__$("textForchild_foster_father_home_village"))
        __$("textForchild_foster_father_home_village").value = "";

      }


    }
    
    
    
    function copyMothersName(){

      __$("child_last_name").value =  __$("child_mother_last_name").value ;

    }

    function removeMothersName(){
      if(__$("child_original_surname")) {
      __$("child_last_name").value = __$("child_original_surname").value;

      }
    }


    function setChildName() {
       __$('child_copy_mother_name').setAttribute('condition', "__$('child_parents_married_to_each_other').value.trim() == 'No' && __$('child_court_order_attached').value.trim() == 'No' && __$('child_parents_signed').value.trim() == 'No' &&  __$('child_mother_last_name').value.trim().toLowerCase() != __$('child_last_name').value.trim().toLowerCase()");
       }

    init();


    function clearRelated(){
      if (__$('del')){
      __$('del').onmousedown = function () {

        if (target) {

          if ("N/A" == target.value.trim()) {

            target.value = "";

          } else {

            target.value = target.value.trim().substring(0, (target.value.trim().length - 1));

          }

          if(target.getAttribute("target") == "child_mother_current_district"){

            __$("child_mother_current_ta").value = "";
            __$("child_mother_current_village").value = "";

            __$("textForchild_mother_current_ta").value = "";
            __$("textForchild_mother_current_village").value = "";

          }else if(target.getAttribute("target") == "child_mother_current_ta"){

            __$("child_mother_current_village").value = "";

            __$("textForchild_mother_current_village").value = "";

          }else if(target.getAttribute("target") == "child_mother_home_district"){

            __$("child_mother_home_ta").value = "";
            __$("child_mother_home_village").value = "";

            __$("textForchild_mother_home_ta").value = "";
            __$("textForchild_mother_home_village").value = "";

          }else if(target.getAttribute("target") == "child_mother_home_ta"){

            __$("child_mother_home_village").value = "";

            __$("textForchild_mother_home_village").value = "";

          }


          if(target.getAttribute("target")){

            if(__$(target.getAttribute("target"))){

              __$(target.getAttribute("target")).value = target.value;

            }

          }

        }

      }
    }

  }
  
  
    var full_place_of_birth;
   
    if (__$('child_place_of_birth').value.trim().toLowerCase() == 'hospital') 
    {
    	full_place_of_birth = ["child_hospital_of_birth", "child_birth_district"] ;
    	  
    }
      else if (__$('child_place_of_birth').value.trim().toLowerCase() == 'home')
    {
    	full_place_of_birth = ["child_birth_ta", "child_birth_village", "child_birth_district"] ;
    }
    else {
    
      full_place_of_birth = ["child_other_birth_place_details", "child_birth_district"];
    }


    summaryHash = {
                    "Child Name" : ["child_first_name","child_middle_name","child_last_name"],
                    "Child Gender" : ["child_gender"],
                    "Child Date of Birth" : ["child_birthdate"],
                    "Place of Birth" : full_place_of_birth,
                    "Mother " : ["child_mother_first_name", "child_mother_middle_name", "child_mother_last_name"],
                    "Father" : ["child_father_first_name", "child_father_middle_name" ,"child_father_last_name"],
                    "Adoptive Mother " : ["child_foster_mother_first_name", "child_foster_mother_middle_name", "child_foster_mother_last_name"],
                    "Adoptive Father" : ["child_foster_father_first_name", "child_foster_father_middle_name" ,"child_foster_father_last_name"],
                    "Form Signed by Informant?" : ["form_signed"],
                    "Delayed Registration" : ['registration_type']
                   };

    function updateRegistrationType()
    {
        var child_dob = handleDate(__$('child_birthdate').value);

        if (((Date.parse(__$('child_acknowledgement_of_receipt_date').value) - child_dob)/ (1000 * 60 * 60 * 24)) > 42)
        {
            __$('registration_type').value = 'Yes'
        }
        else
        {
            __$('registration_type').value = 'No'
        }
    }

    function recalculateDateValidations(){

        __$('child_acknowledgement_of_receipt_date').setAttribute('absolute_min', __$('child_birthdate').value.trim());


    }

    showMessage();

		function  showMessage() {

				<% if @child.errors.any?
          errors = []
          errors << "<p>" + pluralize(@child.errors.count, "error") + " occured while saving this record:</p>"
           @child.errors.full_messages.each do |message|
             errors << "<li>" + message + "</li>"
          end %>

           showMsg('<%= errors.join.html_safe %>', true);

        <% end %>

     }

    function checkWeddingDate( obj,parent)
    {
        if (__$('child_parents_married_to_each_other').value.toString().trim().toUpperCase() == "YES")
        {
            var marriageDate = handleDate(__$('child_date_of_marriage').value.toString().trim())
            var dob = handleDate(obj.value.toString().trim())

            if (((marriageDate - dob) / (365 * 24 * 60 * 60 * 1000)) <= 10){

                showMsg("The age at marriage of " + parent + " is less than 10 years. Please verify date of marriage and birth.");
            }
        }
    }

    function handleDate(date){

        ele = date.split('/');

        if (date.match(/\W?/i)) {
            if (ele[1] == '?') {
                ele[0] = "1";
                ele[1] = "07";
            }
            else if (ele[0] == '?') {
                ele[1] = parseInt(monthNames[ele[1]]) + 1;
                ele[1] = (ele[1] < 10 ? "0" + ele[1] : ele[1])
                ele[0] = "15"
            }
        }
        else {
            ele[1] = parseInt(monthNames[ele[1]]);
            ele[1] = ele[1] + 1

            if (ele[1] < 10){
                ele[1] = "0" + ele[1];
            }
        }
        return new Date(ele[1] + "/" + ele[0] + "/" + ele[2]);

    }
    
    function setDistrict(place) {
      
     if (place == 'district') {
     
      __$('child_birth_district').value =  __$('child_bd_holder').value || "<%= district.name %>" ;
     
    
     } else {
     
       __$('child_birth_district').value = "<%= district.name %>" ;
      
     }
    }
    
    function beforeLiveDate(){
      startDate = new Date("8/1/2015");
     
      if (handleDate(__$('child_birthdate').value.trim()) > startDate){
       
         return false;
      
      } else {
      
        return true;
      }
       
    
    }
    /*summaryHash = {};

    function loadFields(){

        var fields = document.getElementsByClassName("input_cell");

        for(var i = 0; i < fields.length; i++){

            summaryHash[fields[i].id] = [fields[i].id];

        }

    }

    loadFields();*/

</script>
